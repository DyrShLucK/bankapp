replicaCount: 1

image:
  repository: grafana/grafana
  tag: "10.1.4"
  pullPolicy: IfNotPresent

resources:
  requests:
    cpu: "100m"
    memory: "256Mi"
  limits:
    cpu: "500m"
    memory: "1Gi"

service:
  type: ClusterIP
  port: 3000

ingress:
  enabled: true
  className: "nginx"
  hosts:
    - host: grafana.dev.yourdomain.com
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: grafana-tls
      hosts:
        - grafana.dev.yourdomain.com

datasources:
  datasources.yaml:
    apiVersion: 1
    datasources:
      - name: Prometheus
        type: prometheus
        access: proxy
        url: http://prometheus-stack-kube-prom-prometheus.${NAMESPACE_DEV}.svc.cluster.local:9090
        isDefault: true
        editable: true

dashboardProviders:
  dashboardproviders.yaml:
    apiVersion: 1
    providers:
      - name: 'default'
        orgId: 1
        folder: ''
        type: file
        disableDeletion: false
        editable: true
        options:
          path: /var/lib/grafana/dashboards/default

dashboards:
  default:
    spring-boot-statistics:
      gnetId: 12019
      revision: 1
      datasource: Prometheus
    jvm-micrometer:
      gnetId: 4701
      revision: 1
      datasource: Prometheus
    http-stats:
      gnetId: 10005
      revision: 1
      datasource: Prometheus

env:
  GF_SECURITY_ADMIN_PASSWORD: "admin"
  GF_USERS_ALLOW_SIGN_UP: "false"
  GF_AUTH_ANONYMOUS_ENABLED: "true"
  GF_AUTH_ANONYMOUS_ORG_ROLE: "Viewer"

persistence:
  enabled: false